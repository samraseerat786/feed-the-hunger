{"version":3,"sources":["./src/app/donner/reports/reports.page.html","./src/app/donner/reports/reports.module.ts","./src/app/donner/reports/reports.page.scss","./src/app/donner/reports/reports.page.ts"],"names":[],"mappings":"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","file":"donner-reports-reports-module-es5.js","sourcesContent":["module.exports = \"<ion-header class=\\\"ion-text-center\\\">\\r\\n    <ion-toolbar color=\\\"secondary\\\">\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button (click)=\\\"loadDonnerList()\\\" *ngIf=\\\"admin\\\"></ion-back-button>\\r\\n            <ion-menu-button *ngIf=\\\"!admin\\\"></ion-menu-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>Reports</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content *ngIf=\\\"!isEmpty\\\">\\r\\n    <ion-row class=\\\"ion-justify-content-center\\\">\\r\\n        <ion-col class=\\\"ion-align-self-center\\\" size-md=\\\"9\\\" size-lg=\\\"8\\\" size-xl=\\\"6\\\" size-xs=\\\"12\\\" size-sm=\\\"10\\\">\\r\\n            <ion-list class=\\\"ion-no-padding\\\" no-lines *ngFor=\\\"let item of result\\\">\\r\\n                <ion-card class=\\\"ion-no-padding\\\">\\r\\n                    <ion-card-header>\\r\\n                        <ion-card-title>{{item?.type}}</ion-card-title>\\r\\n                        <ion-card-subtitle>{{item?.message}}</ion-card-subtitle>\\r\\n                    </ion-card-header>\\r\\n                    <ion-card-content>\\r\\n                        <ion-card-content class=\\\"ion-no-padding\\\">\\r\\n                            <h5>From: {{ item?.charityHouse?.email }}</h5>\\r\\n                            <p>{{ item?.charityHouse?.name }}</p>\\r\\n                        </ion-card-content>\\r\\n                    </ion-card-content>\\r\\n                </ion-card>\\r\\n            </ion-list>\\r\\n        </ion-col>\\r\\n    </ion-row>\\r\\n</ion-content>\\r\\n\\r\\n<ion-content *ngIf=\\\"isEmpty\\\">\\r\\n    <div class=\\\"fullheight xc\\\">\\r\\n        <div>\\r\\n            <h3 class=\\\"item-color\\\">No Report</h3>\\r\\n        </div>\\r\\n    </div>\\r\\n</ion-content>\\r\\n\\r\\n\"","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {Routes, RouterModule} from '@angular/router';\r\n\r\nimport {IonicModule} from '@ionic/angular';\r\n\r\nimport {ReportsPage} from './reports.page';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: ReportsPage\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        IonicModule,\r\n        RouterModule.forChild(routes)\r\n    ],\r\n    declarations: [ReportsPage]\r\n})\r\nexport class ReportsPageModule {\r\n}\r\n","module.exports = \".border {\\n  box-shadow: none !important;\\n}\\n\\n.fullheight {\\n  height: 100%;\\n}\\n\\n.xc {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n}\\n\\n.item-color {\\n  color: #bababa;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZG9ubmVyL3JlcG9ydHMvRDpcXEZZUFxcZmVlZC10aGUtaHVuZGVyL3NyY1xcYXBwXFxkb25uZXJcXHJlcG9ydHNcXHJlcG9ydHMucGFnZS5zY3NzIiwic3JjL2FwcC9kb25uZXIvcmVwb3J0cy9yZXBvcnRzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDJCQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxvQkFBQTtFQUFBLGFBQUE7RUFDQSx5QkFBQTtVQUFBLG1CQUFBO0VBQ0Esd0JBQUE7VUFBQSx1QkFBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvZG9ubmVyL3JlcG9ydHMvcmVwb3J0cy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYm9yZGVyIHtcclxuICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5mdWxsaGVpZ2h0IHtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbi54YyB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59XHJcblxyXG4uaXRlbS1jb2xvciB7XHJcbiAgY29sb3I6ICNiYWJhYmE7XHJcbn1cclxuIiwiLmJvcmRlciB7XG4gIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDtcbn1cblxuLmZ1bGxoZWlnaHQge1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi54YyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4uaXRlbS1jb2xvciB7XG4gIGNvbG9yOiAjYmFiYWJhO1xufSJdfQ== */\"","import {Component, OnInit} from '@angular/core';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {Storage} from '@ionic/storage';\r\nimport {ListService} from '../../services/list.service';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {Observable} from 'rxjs';\r\nimport {UtilsService} from \"../../services/utils.service\";\r\n\r\n@Component({\r\n    selector: 'app-reports',\r\n    templateUrl: './reports.page.html',\r\n    styleUrls: ['./reports.page.scss'],\r\n})\r\nexport class ReportsPage implements OnInit {\r\n\r\n    constructor(private utils: UtilsService,\r\n                public router: Router,\r\n                private route: ActivatedRoute,\r\n                private storage: Storage,\r\n                private service: ListService,\r\n                public http: HttpClient) {\r\n    }\r\n\r\n    user;\r\n    donner: boolean;\r\n    id;\r\n    reportList: any = [];\r\n    result: any = [];\r\n    admin: boolean;\r\n    data: Observable<any>;\r\n    donnerID;\r\n    isEmpty = false;\r\n\r\n    async ngOnInit() {\r\n\r\n        this.route.paramMap.subscribe(paramMap => {\r\n            this.donnerID = paramMap.get('id');\r\n        });\r\n\r\n        await this.utils.presentLoading(\"Please wait...\");\r\n        this.http.get(`${this.service.homeUrl}/reports/findByDonner/${this.donnerID}`,\r\n            {observe: 'response'}).subscribe(response => {\r\n            this.utils.stopLoading();\r\n            if (response.status === 200 || response.status === 201) {\r\n                this.reportList = response.body;\r\n                this.result = this.reportList.content;\r\n                if (this.result.length === 0) {\r\n                    this.isEmpty = true;\r\n                }\r\n                localStorage.removeItem('reportList');\r\n                localStorage.setItem('reportList', JSON.stringify(this.result));\r\n            }\r\n        }, (error) => {\r\n            this.utils.stopLoading();\r\n            console.log('error', error);\r\n        });\r\n        this.loadData();\r\n    }\r\n\r\n    loadData() {\r\n        // this.result = JSON.parse(localStorage.getItem('user'));\r\n        this.user = localStorage.getItem('role');\r\n        if (this.user === 'donner') {\r\n            this.donner = true;\r\n        }\r\n        if (this.user === 'admin') {\r\n            this.admin = true;\r\n        }\r\n    }\r\n\r\n    loadDonnerList() {\r\n        if (this.admin) {\r\n            this.router.navigate(['/tabs']);\r\n        } else {\r\n            this.router.navigate(['/profile']);\r\n        }\r\n    }\r\n}\r\n"],"sourceRoot":""}