{"version":3,"sources":["./src/app/charityHouse/feedback/feedback.page.html","./src/app/charityHouse/feedback/feedback.module.ts","./src/app/charityHouse/feedback/feedback.page.scss","./src/app/charityHouse/feedback/feedback.page.ts"],"names":[],"mappings":"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","file":"charityHouse-feedback-feedback-module-es2015.js","sourcesContent":["module.exports = \"<ion-header class=\\\"ion-text-center\\\">\\r\\n    <ion-toolbar color=\\\"secondary\\\">\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>Feedback</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n    <form [formGroup]=\\\"feedbackForm\\\">\\r\\n        <ion-grid>\\r\\n            <ion-row class=\\\"ion-justify-content-center\\\">\\r\\n                <ion-col class=\\\"ion-align-self-center\\\" size-md=\\\"9\\\" size-lg=\\\"8\\\" size-xl=\\\"6\\\" size-xs=\\\"12\\\" size-sm=\\\"10\\\">\\r\\n                    <div class=\\\"ion-text-center\\\">\\r\\n                        <h3>Please! provide feedback</h3>\\r\\n                    </div>\\r\\n                    <div class=\\\"ion-padding\\\">\\r\\n                        <ion-item>\\r\\n                            <ion-input placeholder=\\\"Email\\\" formControlName=\\\"email\\\"></ion-input>\\r\\n                        </ion-item>\\r\\n                        <ion-item>\\r\\n                            <ion-input placeholder=\\\"subject\\\" formControlName=\\\"subject\\\"></ion-input>\\r\\n                        </ion-item>\\r\\n                        <ion-item>\\r\\n                            <ion-textarea placeholder=\\\"Feedback Message\\\"\\r\\n                                          formControlName=\\\"feedback_message\\\"></ion-textarea>\\r\\n                        </ion-item>\\r\\n                    </div>\\r\\n                    <div class=\\\"ion-padding\\\">\\r\\n                        <ion-button size=\\\"default\\\" [disabled]=\\\"feedbackForm.invalid\\\" (click)=\\\"sendFeedback()\\\"\\r\\n                                    color=\\\"primary\\\" type=\\\"submit\\\" expand=\\\"block\\\">Send Feedback\\r\\n                        </ion-button>\\r\\n                    </div>\\r\\n                </ion-col>\\r\\n            </ion-row>\\r\\n        </ion-grid>\\r\\n    </form>\\r\\n</ion-content>\\r\\n\"","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\nimport {Routes, RouterModule} from '@angular/router';\r\n\r\nimport {IonicModule} from '@ionic/angular';\r\n\r\nimport {FeedbackPage} from './feedback.page';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: FeedbackPage\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        IonicModule,\r\n        RouterModule.forChild(routes),\r\n        ReactiveFormsModule\r\n    ],\r\n    declarations: [FeedbackPage]\r\n})\r\nexport class FeedbackPageModule {\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NoYXJpdHlIb3VzZS9mZWVkYmFjay9mZWVkYmFjay5wYWdlLnNjc3MifQ== */\"","import {Component, OnInit} from '@angular/core';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {ListService} from '../../services/list.service';\r\nimport {Observable} from 'rxjs';\r\nimport {UtilsService} from \"../../services/utils.service\";\r\n\r\n@Component({\r\n    selector: 'app-feedback',\r\n    templateUrl: './feedback.page.html',\r\n    styleUrls: ['./feedback.page.scss'],\r\n})\r\nexport class FeedbackPage implements OnInit {\r\n    feedbackForm: FormGroup;\r\n\r\n    constructor(private utils: UtilsService,\r\n                private route: ActivatedRoute,\r\n                private http: HttpClient,\r\n                private router: Router,\r\n                private service: ListService,\r\n                private formBuilder: FormBuilder) {\r\n    }\r\n\r\n    donnerID;\r\n    finalFeedbackObject;\r\n\r\n    ngOnInit() {\r\n        this.route.paramMap.subscribe(paramMap => {\r\n            this.donnerID = paramMap.get('id');\r\n        });\r\n        this.formInitializer();\r\n    }\r\n\r\n    formInitializer() {\r\n        this.feedbackForm = this.formBuilder.group({\r\n            email: [null, Validators.compose([Validators.required])],\r\n            subject: [null, [Validators.required]],\r\n            feedback_message: [null, [Validators.required]]\r\n        });\r\n    }\r\n\r\n    async sendFeedback() {\r\n        const test = this.feedbackForm.value;\r\n        const charityHouse = JSON.parse(localStorage.getItem('user'));\r\n        const charityID = charityHouse.id;\r\n        this.finalFeedbackObject = '{\"email\": \"' + test.email + '\",' +\r\n            ' \"subject\": \"' + test.subject + '\",' +\r\n            ' \"feedbackMessage\": \"' + test.feedback_message + '\",' +\r\n            ' \"donner\": { \"id\": ' + this.donnerID + '},' +\r\n            ' \"charityHouse\": { \"id\": ' + charityID + '}' + '}';\r\n        const feedback = JSON.parse(this.finalFeedbackObject);\r\n        await this.utils.presentLoading(\"Please wait...\");\r\n        this.saveFeedback(feedback).subscribe(data => {\r\n                this.utils.stopLoading();\r\n                this.utils.presentAlert('Feedback is saved. Thanks for your feedback.');\r\n                this.router.navigate(['donner-list']);\r\n            },\r\n            error => {\r\n                this.utils.stopLoading();\r\n                console.log('error', error);\r\n            });\r\n    }\r\n\r\n    saveFeedback(dataObj): Observable<any> {\r\n        const url = `${this.service.homeUrl}/feedbacks/newFeedback`;\r\n        return this.http.post(url, dataObj);\r\n    }\r\n}\r\n"],"sourceRoot":""}