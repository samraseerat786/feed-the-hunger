{"version":3,"sources":["./src/app/donner/donate-fund/donate-fund.page.html","./src/app/donner/donate-fund/donate-fund.module.ts","./src/app/donner/donate-fund/donate-fund.page.scss","./src/app/donner/donate-fund/donate-fund.page.ts"],"names":[],"mappings":"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","file":"donner-donate-fund-donate-fund-module-es5.js","sourcesContent":["module.exports = \"<ion-header class=\\\"ion-text-center\\\">\\r\\n    <ion-toolbar color=\\\"secondary\\\">\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>Donate Fund</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n    <form [formGroup]=\\\"donateForm\\\">\\r\\n        <ion-grid>\\r\\n            <ion-row class=\\\"ion-justify-content-center\\\">\\r\\n                <ion-col class=\\\"ion-align-self-center\\\" size-md=\\\"9\\\" size-lg=\\\"8\\\" size-xl=\\\"6\\\" size-xs=\\\"12\\\" size-sm=\\\"10\\\">\\r\\n                    <div class=\\\"ion-text-center\\\">\\r\\n                        <h3>Provide Transaction Information</h3>\\r\\n                    </div>\\r\\n                    <div class=\\\"ion-padding\\\">\\r\\n                        <ion-item>\\r\\n                            <ion-label position=\\\"floating\\\">Amount</ion-label>\\r\\n                            <ion-input formControlName=\\\"amount\\\"></ion-input>\\r\\n                        </ion-item>\\r\\n\\r\\n                        <ion-item>\\r\\n                            <ion-label position=\\\"floating\\\">Currency</ion-label>\\r\\n                            <ion-select formControlName=\\\"currency\\\" placeholder=\\\"--Select--\\\" okText=\\\"Okay\\\"\\r\\n                                        cancelText=\\\"Dismiss\\\">\\r\\n                                <ion-select-option *ngFor=\\\"let item of currencies\\\"\\r\\n                                                   value=\\\"{{item}}\\\">{{item}}</ion-select-option>\\r\\n                            </ion-select>\\r\\n                        </ion-item>\\r\\n                        <ion-item>\\r\\n                            <ion-label position=\\\"floating\\\">Card No</ion-label>\\r\\n                            <ion-input formControlName=\\\"donner_card\\\"></ion-input>\\r\\n                        </ion-item>\\r\\n                        <ion-item>\\r\\n                            <ion-label position=\\\"floating\\\">Expiry Date</ion-label>\\r\\n                            <ion-datetime pickerFormat=\\\"YYYY MM DD\\\" formControlName=\\\"card_expiry_date\\\"></ion-datetime>\\r\\n                        </ion-item>\\r\\n                    </div>\\r\\n                    <div class=\\\"ion-padding\\\">\\r\\n                        <ion-button [disabled]=\\\"donateForm.invalid\\\" (click)=\\\"donateFund()\\\" color=\\\"primary\\\" type=\\\"submit\\\"\\r\\n                                    expand=\\\"block\\\">Proceed\\r\\n                        </ion-button>\\r\\n                    </div>\\r\\n                </ion-col>\\r\\n            </ion-row>\\r\\n        </ion-grid>\\r\\n    </form>\\r\\n</ion-content>\\r\\n\\r\\n\"","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\nimport {Routes, RouterModule} from '@angular/router';\r\n\r\nimport {IonicModule} from '@ionic/angular';\r\n\r\nimport {DonateFundPage} from './donate-fund.page';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: DonateFundPage\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        IonicModule,\r\n        RouterModule.forChild(routes),\r\n        ReactiveFormsModule\r\n    ],\r\n    declarations: [DonateFundPage]\r\n})\r\nexport class DonateFundPageModule {\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Rvbm5lci9kb25hdGUtZnVuZC9kb25hdGUtZnVuZC5wYWdlLnNjc3MifQ== */\"","import {Component, OnInit} from '@angular/core';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {Observable} from 'rxjs';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {ListService} from '../../services/list.service';\r\nimport {UtilsService} from \"../../services/utils.service\";\r\n\r\n@Component({\r\n    selector: 'app-donate-fund',\r\n    templateUrl: './donate-fund.page.html',\r\n    styleUrls: ['./donate-fund.page.scss'],\r\n})\r\nexport class DonateFundPage implements OnInit {\r\n    donateForm: FormGroup;\r\n    today = new Date();\r\n    date;\r\n\r\n    constructor(private utils: UtilsService,\r\n                private route: ActivatedRoute,\r\n                private http: HttpClient,\r\n                private service: ListService,\r\n                private formBuilder: FormBuilder,\r\n                private router: Router) {\r\n    }\r\n\r\n    data: Observable<any>;\r\n    charityHouse;\r\n    finalFundObject;\r\n    currencies: string [] = ['PKR', 'Dollar', 'rayal', 'denaar'];\r\n\r\n    ngOnInit() {\r\n        this.formInitializer();\r\n        this.route.paramMap.subscribe(paramMap => {\r\n            this.charityHouse = paramMap.get('id');\r\n        });\r\n    }\r\n\r\n    formInitializer() {\r\n        this.date = this.today.getFullYear() + '-' + (this.today.getMonth() + 1) + '-' + this.today.getDate();\r\n        this.donateForm = this.formBuilder.group({\r\n            amount: [null, [Validators.required]],\r\n            currency: [null, [Validators.required]],\r\n            donner_card: [null, [Validators.required]],\r\n            card_expiry_date: [null, [Validators.required]],\r\n        });\r\n    }\r\n\r\n    async donateFund() {\r\n        const test = this.donateForm.value;\r\n        const dateFormat = test.card_expiry_date.split('T')[0];\r\n        const donner = JSON.parse(localStorage.getItem('user'));\r\n        const donnerID = donner.id;\r\n        this.finalFundObject = '{\"amount\": \"' + test.amount + '\",' +\r\n            '\"currency\": \"' + test.currency + '\",' +\r\n            '\"donnerCard\": \"' + test.donner_card + '\",' +\r\n            '\"cardExpiryDate\": \"' + dateFormat + '\",' +\r\n            '\"donation\": { ' + '\"date\": \"' + this.date + '\",' +\r\n            '\"donner\": { \"id\": ' + donnerID + '},' +\r\n            '\"charityHouse\": { \"id\": ' + this.charityHouse + '}' + '}' + '}';\r\n        const fundDonation = JSON.parse(this.finalFundObject);\r\n        let date = new Date();\r\n        let acceptanceDate = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()} ${date.getHours()}:${date.getMinutes()}`;\r\n        fundDonation.donation.acceptanceTime = acceptanceDate;\r\n        fundDonation.donation.status = \"new\";\r\n        await this.utils.presentLoading(\"Please wait...\");\r\n        this.saveFoodDonation(fundDonation).subscribe(data => {\r\n                this.utils.stopLoading();\r\n                this.utils.presentAlert('Your donation successfully sent to selected charity house. Thanks for donating fund.');\r\n                this.router.navigate(['charityList']);\r\n            },\r\n            error => {\r\n                this.utils.stopLoading();\r\n                console.log('error', error);\r\n            });\r\n    }\r\n\r\n    saveFoodDonation(dataObj): Observable<any> {\r\n        const url = `${this.service.homeUrl}/fundDonations/newFundDonation`;\r\n        return this.http.post(url, dataObj);\r\n    }\r\n}\r\n"],"sourceRoot":""}