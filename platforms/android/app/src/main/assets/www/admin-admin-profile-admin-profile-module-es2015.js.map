{"version":3,"sources":["./src/app/admin/admin-profile/admin-profile.page.html","./src/app/admin/admin-profile/admin-profile.module.ts","./src/app/admin/admin-profile/admin-profile.page.scss","./src/app/admin/admin-profile/admin-profile.page.ts"],"names":[],"mappings":"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","file":"admin-admin-profile-admin-profile-module-es2015.js","sourcesContent":["module.exports = \"<ion-header class=\\\"ion-text-center\\\">\\r\\n    <ion-toolbar color=\\\"secondary\\\">\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-menu-button></ion-menu-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>Profile</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n    <ion-row class=\\\"ion-justify-content-center\\\">\\r\\n        <ion-col class=\\\"ion-align-self-center\\\" size-md=\\\"9\\\" size-lg=\\\"8\\\" size-xl=\\\"6\\\" size-xs=\\\"12\\\" size-sm=\\\"10\\\">\\r\\n            <ion-row align-items-end no-padding>\\r\\n                <ion-col size=\\\"3\\\"></ion-col>\\r\\n                <ion-col style=\\\"padding-top: 30px\\\" size=\\\"6\\\">\\r\\n                    <ion-row>\\r\\n                        <ion-col size=\\\"12\\\">\\r\\n                            <div class=\\\"profile\\\">\\r\\n                                <img [routerLink]=\\\"['profile-picture']\\\" class=\\\"profile-picture\\\"\\r\\n                                     src=\\\"{{user?.image || user?.user?.image || defaultImage}}\\\"/>\\r\\n                            </div>\\r\\n                        </ion-col>\\r\\n                        <ion-col size=\\\"12\\\">\\r\\n                            <input type=\\\"file\\\" accept=\\\"image/*\\\" id=\\\"profile-image\\\" (change)=\\\"imageFileChanged($event)\\\"/>\\r\\n                        </ion-col>\\r\\n                    </ion-row>\\r\\n                </ion-col>\\r\\n                <ion-col size=\\\"3\\\"></ion-col>\\r\\n            </ion-row>\\r\\n            <ion-row>\\r\\n                <ion-col size=\\\"3\\\">\\r\\n                    <ion-card class=\\\"border\\\">\\r\\n                        <ion-card-content class=\\\"ion-no-padding\\\">\\r\\n                            <ion-icon style=\\\"float: right;\\\" size=\\\"large\\\" name=\\\"Person\\\" color=\\\"secondary\\\"></ion-icon>\\r\\n                        </ion-card-content>\\r\\n                    </ion-card>\\r\\n                </ion-col>\\r\\n                <ion-col size=\\\"9\\\">\\r\\n                    <ion-item class=\\\"ion-no-padding\\\">\\r\\n                        <ion-card class=\\\"border ion-no-padding\\\">\\r\\n                            <ion-card-header class=\\\"ion-no-padding\\\">\\r\\n                                <ion-card-subtitle>Name</ion-card-subtitle>\\r\\n                                <ion-card-title>{{user?.first_name}} {{user?.last_name}}</ion-card-title>\\r\\n                            </ion-card-header>\\r\\n                        </ion-card>\\r\\n                    </ion-item>\\r\\n                </ion-col>\\r\\n                <ion-col size=\\\"0\\\"></ion-col>\\r\\n            </ion-row>\\r\\n            <ion-row>\\r\\n                <ion-col size=\\\"3\\\">\\r\\n                    <ion-card class=\\\"border\\\">\\r\\n                        <ion-card-content class=\\\"ion-no-padding\\\">\\r\\n                            <ion-icon style=\\\"float: right;\\\" size=\\\"large\\\" name=\\\"ios-call\\\" color=\\\"secondary\\\"></ion-icon>\\r\\n                        </ion-card-content>\\r\\n                    </ion-card>\\r\\n                </ion-col>\\r\\n                <ion-col size=\\\"9\\\">\\r\\n                    <ion-item class=\\\"ion-no-padding\\\">\\r\\n                        <ion-card class=\\\"border ion-no-padding\\\">\\r\\n                            <ion-card-header class=\\\"ion-no-padding\\\">\\r\\n                                <ion-card-title>Email</ion-card-title>\\r\\n                                <ion-card-subtitle>{{user?.email}}</ion-card-subtitle>\\r\\n                            </ion-card-header>\\r\\n                        </ion-card>\\r\\n                    </ion-item>\\r\\n                </ion-col>\\r\\n                <ion-col size=\\\"0\\\"></ion-col>\\r\\n            </ion-row>\\r\\n        </ion-col>\\r\\n    </ion-row>\\r\\n</ion-content>\\r\\n\\r\\n<ion-img class=\\\"bottom-right\\\" (click)=\\\"updateProfile()\\\" style=\\\"width: 45px; height: 45px;\\\"\\r\\n         src=\\\"/assets/edit-admin.jpg\\\" alt=\\\"update\\\" slot=\\\"end\\\"></ion-img>\\r\\n\\r\\n\"","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {Routes, RouterModule} from '@angular/router';\r\n\r\nimport {IonicModule} from '@ionic/angular';\r\n\r\nimport {AdminProfilePage} from './admin-profile.page';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: AdminProfilePage\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        IonicModule,\r\n        RouterModule.forChild(routes)\r\n    ],\r\n    declarations: [AdminProfilePage]\r\n})\r\nexport class AdminProfilePageModule {\r\n}\r\n","module.exports = \".bottom-right {\\n  position: absolute;\\n  bottom: 5%;\\n  right: 5%;\\n}\\n\\n.profile-picture {\\n  border-radius: 50%;\\n  width: 145px;\\n  height: 145px;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n\\n.border {\\n  box-shadow: none !important;\\n}\\n\\n.star {\\n  color: #a2a4ab;\\n}\\n\\n.fullheight {\\n  height: 100%;\\n}\\n\\n.xc {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n}\\n\\n.item-color {\\n  color: #bababa;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW4vYWRtaW4tcHJvZmlsZS9EOlxcRllQXFxmZWVkLXRoZS1odW5kZXIvc3JjXFxhcHBcXGFkbWluXFxhZG1pbi1wcm9maWxlXFxhZG1pbi1wcm9maWxlLnBhZ2Uuc2NzcyIsInNyYy9hcHAvYWRtaW4vYWRtaW4tcHJvZmlsZS9hZG1pbi1wcm9maWxlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFNBQUE7QUNBRjs7QURHQTtFQUNFLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxvQkFBQTtLQUFBLGlCQUFBO0FDQUY7O0FER0E7RUFDRSwyQkFBQTtBQ0FGOztBREdBO0VBQ0UsY0FBQTtBQ0FGOztBREdBO0VBQ0UsWUFBQTtBQ0FGOztBREdBO0VBQ0Usb0JBQUE7RUFBQSxhQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtFQUNBLHdCQUFBO1VBQUEsdUJBQUE7QUNBRjs7QURHQTtFQUNFLGNBQUE7QUNBRiIsImZpbGUiOiJzcmMvYXBwL2FkbWluL2FkbWluLXByb2ZpbGUvYWRtaW4tcHJvZmlsZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLmJvdHRvbS1yaWdodCB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGJvdHRvbTogNSU7XHJcbiAgcmlnaHQ6IDUlO1xyXG59XHJcblxyXG4ucHJvZmlsZS1waWN0dXJlIHtcclxuICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgd2lkdGg6IDE0NXB4O1xyXG4gIGhlaWdodDogMTQ1cHg7XHJcbiAgb2JqZWN0LWZpdDogY292ZXJcclxufVxyXG5cclxuLmJvcmRlciB7XHJcbiAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uc3RhciB7XHJcbiAgY29sb3I6ICNhMmE0YWI7XHJcbn1cclxuXHJcbi5mdWxsaGVpZ2h0IHtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbi54YyB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59XHJcblxyXG4uaXRlbS1jb2xvciB7XHJcbiAgY29sb3I6ICNiYWJhYmE7XHJcbn1cclxuXHJcbiIsIi5ib3R0b20tcmlnaHQge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogNSU7XG4gIHJpZ2h0OiA1JTtcbn1cblxuLnByb2ZpbGUtcGljdHVyZSB7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgd2lkdGg6IDE0NXB4O1xuICBoZWlnaHQ6IDE0NXB4O1xuICBvYmplY3QtZml0OiBjb3Zlcjtcbn1cblxuLmJvcmRlciB7XG4gIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDtcbn1cblxuLnN0YXIge1xuICBjb2xvcjogI2EyYTRhYjtcbn1cblxuLmZ1bGxoZWlnaHQge1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi54YyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4uaXRlbS1jb2xvciB7XG4gIGNvbG9yOiAjYmFiYWJhO1xufSJdfQ== */\"","import {Component, OnInit} from '@angular/core';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {ListService} from '../../services/list.service';\r\nimport {UtilsService} from \"../../services/utils.service\";\r\nimport {AngularFireStorage} from \"@angular/fire/storage\";\r\n\r\n@Component({\r\n    selector: 'app-admin-profile',\r\n    templateUrl: './admin-profile.page.html',\r\n    styleUrls: ['./admin-profile.page.scss'],\r\n})\r\nexport class AdminProfilePage implements OnInit {\r\n\r\n    constructor(private utils: UtilsService,\r\n                private route: ActivatedRoute,\r\n                private router: Router,\r\n                private http: HttpClient,\r\n                private service: ListService,\r\n                public db: AngularFireStorage) {\r\n    }\r\n\r\n    user;\r\n    data;\r\n    profileImage: any;\r\n    defaultImage = 'assets/20181028_231840.png';\r\n\r\n    ngOnInit() {\r\n        this.route.paramMap.subscribe(async paramMap => {\r\n            const val = paramMap.get('id');\r\n            const url = `${this.service.homeUrl}/users/getUser/${val}`;\r\n            await this.utils.presentLoading(\"Please wait...\");\r\n            this.data = this.http.get(url);\r\n            this.data.subscribe(data => {\r\n                this.utils.stopLoading();\r\n                this.user = data;\r\n            });\r\n        });\r\n    }\r\n\r\n    updateProfile() {\r\n        this.router.navigate(['/edit-profile', this.user]);\r\n    }\r\n\r\n    async imageFileChanged(e) {\r\n\r\n        this.profileImage = e.target.files[0];\r\n\r\n        const filePath = `profile-images/${this.user.user_name}.png`;\r\n        const storageRef = this.db.ref(filePath);\r\n        debugger\r\n\r\n        let fileName = `Date.now().png`;\r\n        await this.utils.presentLoading(\"Please wait...\");\r\n        await this.db.upload(filePath, this.profileImage).then(async (snapshot) => {\r\n            await storageRef.getDownloadURL().subscribe(downloadURL => {\r\n                console.log(downloadURL);\r\n                let userObject = {};\r\n                if (this.user.user) {\r\n                    userObject = this.user.user;\r\n                    this.user.user.image = downloadURL;\r\n                } else {\r\n                    userObject = this.user;\r\n                    this.user.image = downloadURL;\r\n                }\r\n                localStorage.setItem(\"user\", JSON.stringify(this.user));\r\n                this.saveHttpReq(userObject);\r\n            });\r\n        });\r\n    }\r\n\r\n    saveHttpReq(dataObj) {\r\n        const url = `${this.service.homeUrl}/users/updateUser`;\r\n        this.http.put(url, dataObj).subscribe(data => {\r\n                this.utils.stopLoading();\r\n            },\r\n            error => {\r\n                this.utils.stopLoading();\r\n                console.log('error', error);\r\n            });\r\n    }\r\n}\r\n"],"sourceRoot":""}