<ion-header class="ion-text-center">
    <ion-toolbar color="secondary">
        <ion-buttons slot="start">
            <ion-back-button></ion-back-button>
        </ion-buttons>
        <ion-title>Message</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-row class="ion-justify-content-center">
        <ion-col class="ion-align-self-center" size-md="9" size-lg="8" size-xl="6" size-xs="12" size-sm="10">
            <ion-grid>
                <ion-row *ngFor="let message of messages">
                    <ion-col size="9" *ngIf="currentUser !== message?.sender" class="message other-message">
                        <b>{{message?.sender}}</b><br>
                        <span>{{message?.message}}</span>
                        <div class="time" text-right><br>
                            {{message.createdAt | date:'short'}}</div>
                    </ion-col>

                    <ion-col offset="3" size="9" *ngIf="currentUser === message.sender" class="message my-message">
                        <b>{{message?.sender}}</b><br>
                        <span>{{message?.message}}</span>
                        <div class="time" text-right><br>
                            {{message.createdAt | date:'short'}}</div>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </ion-col>
    </ion-row>
</ion-content>
<ion-footer>
    <ion-toolbar color="light">
        <ion-row class="ion-justify-content-center">
            <ion-col class="ion-align-self-center" size-md="9" size-lg="8" size-xl="6" size-xs="12" size-sm="10">
                <ion-item color="light">
                    <textarea placeholder="Enter your message" autosize [maxRows]="3" [(ngModel)]="newMsg"
                              class="message-input"></textarea>
                    <ion-icon (click)="sendMessage()" name="send" size="large"
                              slot="end" color="success" mode="md" class="sendIcon"></ion-icon>
                </ion-item>
            </ion-col>
        </ion-row>
    </ion-toolbar>
</ion-footer>
